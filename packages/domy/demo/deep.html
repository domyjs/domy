<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="../dist/index.js"></script>
  </head>
  <body>
    <div id="app">
      <big-count></big-count>
    </div>
  </body>
  <script>
    const cCount = Number(prompt('depth'));
    const c = ['<Count>', '</Count>'];
    let html = '';

    for (let i = 0; i < cCount; ++i) {
      html += c[0];
    }

    for (let i = 0; i < cCount; ++i) {
      html += c[1];
    }

    console.log(html);

    const Count = DOMY.createComponent({
      props: ['title'],
      html: `<div>
            <p>Count: {{ count }}</p>
            <button @click="increment">+</button>
            <button @click="decrement">-</button>

            <span>{{ $childrens.length }}</span>

            <template d-insert="$childrens[0]"></template>
      </div>`,
      app: {
        data() {
          return { count: 0 };
        },
        methods: {
          increment() {
            ++this.count;
          },
          decrement() {
            --this.count;
          }
        }
      }
    });

    const BigCount = DOMY.createComponent({
      components: {
        Count
      },
      html
    });

    DOMY.createApp()
      .components({
        BigCount
      })
      .mount(document.querySelector('#app'));
  </script>
</html>
