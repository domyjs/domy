(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1696],{1184:(n,e,t)=>{"use strict";t.d(e,{R:()=>l,x:()=>r});var s=t(4041);const a={},i=s.createContext(a);function l(n){const e=s.useContext(i);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:l(n.components),s.createElement(i.Provider,{value:e},n.children)}},1983:(n,e,t)=>{"use strict";t.d(e,{A:()=>l});var s=t(4041);const a="demo_TaPm";var i=t(1085);const l=({code:n,domy:e,components:l,config:r,plugins:o})=>{const g=(0,s.useRef)(null),[c,u]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{let s=!0;u(!0);return(async()=>{try{if(!g.current||"undefined"==typeof window)return;const{default:s}=await t.e(5228).then(t.t.bind(t,2847,23));window.DOMY||(window.DOMY=s),console.log("DOMY"),g.current.innerHTML=n;const a=o?await o():[];s.createApp(e).configure(r??{}).plugins(a).components(l?.()).mount(g.current)}catch(s){console.error("[Demo] Load error:",s)}})(),()=>{s=!1}}),[c]),c?(0,i.jsx)("div",{className:a,ref:g}):(0,i.jsx)("div",{className:a,children:"Loading..."})}},4461:(n,e,t)=>{"use strict";t.r(e),t.d(e,{assets:()=>u,contentTitle:()=>g,default:()=>p,frontMatter:()=>o,metadata:()=>c,toc:()=>d});var s=t(1085),a=t(1184),i=t(1983),l=t(8137),r=t.n(l);const o={},g="Internationalization (i18n)",c={id:"plugins/i18n",title:"Internationalization (i18n)",description:"The i18n plugin enables dynamic text translation based on the selected language. It supports language switching, message formatting, and placeholders for personalized content.",source:"@site/docs/plugins/i18n.mdx",sourceDirName:"plugins",slug:"/plugins/i18n",permalink:"/docs/plugins/i18n",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Debounce",permalink:"/docs/plugins/debounce"},next:{title:"Intersect",permalink:"/docs/plugins/intersect"}},u={},d=[{value:"Installation",id:"installation",level:2},{value:"Syntax and Usage",id:"syntax-and-usage",level:2},{value:"<strong>Defining Language Messages</strong>",id:"defining-language-messages",level:3},{value:"<strong>Using Translations in Components</strong>",id:"using-translations-in-components",level:3},{value:"<strong>Switching Languages Dynamically</strong>",id:"switching-languages-dynamically",level:3},{value:"<strong>Getting Supported Languages</strong>",id:"getting-supported-languages",level:3},{value:"<strong>Example: Language Selector</strong>",id:"example-language-selector",level:2}];function h(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h1,{id:"internationalization-i18n",children:"Internationalization (i18n)"}),"\n",(0,s.jsxs)(e.p,{children:["The ",(0,s.jsx)(e.code,{children:"i18n"})," plugin enables ",(0,s.jsx)(e.strong,{children:"dynamic text translation"})," based on the selected language. It supports ",(0,s.jsx)(e.strong,{children:"language switching, message formatting, and placeholders"})," for personalized content."]}),"\n",(0,s.jsx)(e.h2,{id:"installation",children:"Installation"}),"\n",(0,s.jsxs)(e.p,{children:["To use ",(0,s.jsx)(e.code,{children:"i18n"}),", include the DOMY I18N plugin via CDN:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-html",children:'<script src="https://unpkg.com/@domyjs/i18n@1.x.x"><\/script>\n'})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"syntax-and-usage",children:"Syntax and Usage"}),"\n",(0,s.jsx)(e.h3,{id:"defining-language-messages",children:(0,s.jsx)(e.strong,{children:"Defining Language Messages"})}),"\n",(0,s.jsx)(e.p,{children:"Define translations for multiple languages."}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",children:"const { i18nPlugin, useI18n } = i18n({\n  messages: {\n    en: {\n      title: 'Hello World!',\n      greeting: {\n        hello: 'Hello, {{ name }}',\n        bye: 'Bye, {{ name }}'\n      }\n    },\n    fr: {\n      title: 'Bonjour le monde!',\n      greeting: {\n        hello: 'Bonjour, {{ name }}',\n        bye: 'Aurevoir, {{ name }}'\n      }\n    }\n  },\n  currentLangage: 'en',\n  defaultCallbackLangage: 'en'\n});\n\nDOMY.createApp().plugins([i18nPlugin]).mount();\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h3,{id:"using-translations-in-components",children:(0,s.jsx)(e.strong,{children:"Using Translations in Components"})}),"\n",(0,s.jsxs)(e.p,{children:["Bind translation keys using ",(0,s.jsx)(e.code,{children:"$t()"}),"."]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-html",children:"<h1>{{ $t('title') }}</h1>\n<p>{{ $t('greeting.hello', { name: 'John' }) }}</p>\n<p>{{ $t('greeting.bye') }}</p>\n<p>{{ $t({ key: 'key.who.doesnt.exist', defaultMessage: 'default message' }) }}</p>\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h3,{id:"switching-languages-dynamically",children:(0,s.jsx)(e.strong,{children:"Switching Languages Dynamically"})}),"\n",(0,s.jsxs)(e.p,{children:["Modify the active language using ",(0,s.jsx)(e.code,{children:"$i18n.setLangage()"}),"."]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-html",children:"<button @click=\"$i18n.setLangage('fr')\">\ud83c\uddeb\ud83c\uddf7 French</button>\n<button @click=\"$i18n.setLangage('en')\">\ud83c\uddec\ud83c\udde7 English</button>\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h3,{id:"getting-supported-languages",children:(0,s.jsx)(e.strong,{children:"Getting Supported Languages"})}),"\n",(0,s.jsx)(e.p,{children:"Retrieve the list of available languages dynamically."}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-html",children:"<p>{{ $i18n.getSupportedLangages().join(', ') }}</p>\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"example-language-selector",children:(0,s.jsx)(e.strong,{children:"Example: Language Selector"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-html",children:"<div d-scope=\"{ name: 'Yoann' }\">\n  <h1>{{ $t('title') }}</h1>\n  <p>{{ $t('greeting.hello', { name }) }}</p>\n\n  <button @click=\"name = 'Pierre'\">Change name to Pierre</button>\n  <button @click=\"$i18n.setLangage('fr')\">Switch to French</button>\n  <button @click=\"$i18n.setLangage('en')\">Switch to English</button>\n</div>\n"})}),"\n",(0,s.jsx)(i.A,{code:"\n<div d-scope=\"{ name: 'Yoann' }\">\n<h1>{{ $t('title') }}</h1>\n<p>{{ $t('greeting.hello', { name }) }}</p>\n\n<button @click=\"name = 'Pierre'\">Change name to Pierre</button>\n<button @click=\"$i18n.setLangage('fr')\">Switch to French</button>\n<button @click=\"$i18n.setLangage('en')\">Switch to English</button>\n</div>\n",plugins:()=>{const{i18nPlugin:n}=r()({messages:{en:{title:"Hello World!",greeting:{hello:"Hello, {{ name }}",bye:"Bye, {{ name }}"}},fr:{title:"Bonjour le monde!",greeting:{hello:"Bonjour, {{ name }}",bye:"Aurevoir, {{ name }}"}}},currentLangage:"en",defaultCallbackLangage:"en"});return[n]}})]})}function p(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(h,{...n})}):h(n)}},8137:function(n){n.exports=function(){"use strict";class n{constructor(n){this.settings=n,this.langage=window.DOMY.signal({lang:this.settings.currentLangage})}getHook(){return{getSupportedLangages:()=>Object.keys(this.settings.messages),getLangage:()=>this.langage.value.lang,setLangage:n=>{let e=n;n in this.settings.messages||(e=this.settings.defaultCallbackLangage,console.warn(`I18N: The langage "${n}" doesn't exist. Switched to "${e}".`)),this.langage.value.lang=e}}}messageHandler(n){const e=this.getHook();return(t,s={})=>{const a="object"==typeof t,i=a?t.key:t,l=a?t.defaultMessage:t,r=/\{\{\s*(.+?)\s*\}\}/gi,o=this.settings.messages[e.getLangage()];let g=n.utils.get(o,i);return g?(r.test(g)&&(g=g.replace(r,(function(n,e){return s[e]||n}))),g):(console.warn(`I18N: Invalide key "${i}".`),l)}}}return function(e){if(!(e.currentLangage in e.messages))throw new Error(`I18N: The current langage "${e.currentLangage}" must be in messages.`);if(!(e.defaultCallbackLangage in e.messages))throw new Error(`I18N: The default callback langage "${e.defaultCallbackLangage}" must be in messages.`);const t=new n(e);return{useI18n:()=>({t:(0,window.DOMY.helperToHookRegistrer.getHook)(t.messageHandler.bind(t))(),...t.getHook()}),i18nPlugin:n=>{n.helper("i18n",t.getHook.bind(t)),n.helper("t",t.messageHandler.bind(t))}}}}()}}]);