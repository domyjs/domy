(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1696],{5455:(n,e,t)=>{"use strict";t.r(e),t.d(e,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>u});const s=JSON.parse('{"id":"plugins/i18n","title":"Internationalization (i18n)","description":"The i18n plugin enables dynamic text translation based on the selected language. It supports language switching, message formatting, and placeholders for personalized content.","source":"@site/docs/plugins/i18n.mdx","sourceDirName":"plugins","slug":"/plugins/i18n","permalink":"/domy/docs/plugins/i18n","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Debounce","permalink":"/domy/docs/plugins/debounce"},"next":{"title":"Intersect","permalink":"/domy/docs/plugins/intersect"}}');var a=t(1085),i=t(1184),l=t(1983),g=t(8137),r=t.n(g);const o={},c="Internationalization (i18n)",d={},u=[{value:"Installation",id:"installation",level:2},{value:"Syntax and Usage",id:"syntax-and-usage",level:2},{value:"<strong>Defining Language Messages</strong>",id:"defining-language-messages",level:3},{value:"<strong>Using Translations in Components</strong>",id:"using-translations-in-components",level:3},{value:"<strong>Switching Languages Dynamically</strong>",id:"switching-languages-dynamically",level:3},{value:"<strong>Getting Supported Languages</strong>",id:"getting-supported-languages",level:3},{value:"<strong>Example: Language Selector</strong>",id:"example-language-selector",level:2}];function h(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"internationalization-i18n",children:"Internationalization (i18n)"})}),"\n",(0,a.jsxs)(e.p,{children:["The ",(0,a.jsx)(e.code,{children:"i18n"})," plugin enables ",(0,a.jsx)(e.strong,{children:"dynamic text translation"})," based on the selected language. It supports ",(0,a.jsx)(e.strong,{children:"language switching, message formatting, and placeholders"})," for personalized content."]}),"\n",(0,a.jsx)(e.h2,{id:"installation",children:"Installation"}),"\n",(0,a.jsxs)(e.p,{children:["To use ",(0,a.jsx)(e.code,{children:"i18n"}),", include the DOMY I18N plugin via CDN:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-html",children:'<script src="https://unpkg.com/@domyjs/i18n@1.x.x"><\/script>\n'})}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"syntax-and-usage",children:"Syntax and Usage"}),"\n",(0,a.jsx)(e.h3,{id:"defining-language-messages",children:(0,a.jsx)(e.strong,{children:"Defining Language Messages"})}),"\n",(0,a.jsx)(e.p,{children:"Define translations for multiple languages."}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"const { i18nPlugin, useI18n } = i18n({\n  messages: {\n    en: {\n      title: 'Hello World!',\n      greeting: {\n        hello: 'Hello, {{ name }}',\n        bye: 'Bye, {{ name }}'\n      }\n    },\n    fr: {\n      title: 'Bonjour le monde!',\n      greeting: {\n        hello: 'Bonjour, {{ name }}',\n        bye: 'Aurevoir, {{ name }}'\n      }\n    }\n  },\n  currentLangage: 'en',\n  defaultCallbackLangage: 'en'\n});\n\nDOMY.createApp().plugins([i18nPlugin]).mount();\n"})}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h3,{id:"using-translations-in-components",children:(0,a.jsx)(e.strong,{children:"Using Translations in Components"})}),"\n",(0,a.jsxs)(e.p,{children:["Bind translation keys using ",(0,a.jsx)(e.code,{children:"$t()"}),"."]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-html",children:"<h1>{{ $t('title') }}</h1>\n<p>{{ $t('greeting.hello', { name: 'John' }) }}</p>\n<p>{{ $t('greeting.bye') }}</p>\n<p>{{ $t({ key: 'key.who.doesnt.exist', defaultMessage: 'default message' }) }}</p>\n"})}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h3,{id:"switching-languages-dynamically",children:(0,a.jsx)(e.strong,{children:"Switching Languages Dynamically"})}),"\n",(0,a.jsxs)(e.p,{children:["Modify the active language using ",(0,a.jsx)(e.code,{children:"$i18n.setLangage()"}),"."]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-html",children:"<button @click=\"$i18n.setLangage('fr')\">\ud83c\uddeb\ud83c\uddf7 French</button>\n<button @click=\"$i18n.setLangage('en')\">\ud83c\uddec\ud83c\udde7 English</button>\n"})}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h3,{id:"getting-supported-languages",children:(0,a.jsx)(e.strong,{children:"Getting Supported Languages"})}),"\n",(0,a.jsx)(e.p,{children:"Retrieve the list of available languages dynamically."}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-html",children:"<p>{{ $i18n.getSupportedLangages().join(', ') }}</p>\n"})}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"example-language-selector",children:(0,a.jsx)(e.strong,{children:"Example: Language Selector"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-html",children:"<div d-scope=\"{ name: 'Yoann' }\">\n  <h1>{{ $t('title') }}</h1>\n  <p>{{ $t('greeting.hello', { name }) }}</p>\n\n  <button @click=\"name = 'Pierre'\">Change name to Pierre</button>\n  <button @click=\"$i18n.setLangage('fr')\">Switch to French</button>\n  <button @click=\"$i18n.setLangage('en')\">Switch to English</button>\n</div>\n"})}),"\n",(0,a.jsx)(l.A,{code:"\n<div d-scope=\"{ name: 'Yoann' }\">\n<h1>{{ $t('title') }}</h1>\n<p>{{ $t('greeting.hello', { name }) }}</p>\n\n<button @click=\"name = 'Pierre'\">Change name to Pierre</button>\n<button @click=\"$i18n.setLangage('fr')\">Switch to French</button>\n<button @click=\"$i18n.setLangage('en')\">Switch to English</button>\n</div>\n",plugins:()=>{const{i18nPlugin:n}=r()({messages:{en:{title:"Hello World!",greeting:{hello:"Hello, {{ name }}",bye:"Bye, {{ name }}"}},fr:{title:"Bonjour le monde!",greeting:{hello:"Bonjour, {{ name }}",bye:"Aurevoir, {{ name }}"}}},currentLangage:"en",defaultCallbackLangage:"en"});return[n]}})]})}function p(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(h,{...n})}):h(n)}},8137:function(n){n.exports=function(){"use strict";const n=()=>window.DOMY;class e{constructor(e){this.settings=e,this.langage=n().signal({lang:this.settings.currentLangage})}getHook(){return{getSupportedLangages:()=>Object.keys(this.settings.messages),getLangage:()=>this.langage.value.lang,setLangage:n=>{let e=n;n in this.settings.messages||(e=this.settings.defaultCallbackLangage,console.warn(`I18N: The langage "${n}" doesn't exist. Switched to "${e}".`)),this.langage.value.lang=e}}}messageHandler(n){const e=this.getHook();return(t,s={})=>{const a="object"==typeof t,i=a?t.key:t,l=a?t.defaultMessage:t,g=/\{\{\s*(.+?)\s*\}\}/gi,r=this.settings.messages[e.getLangage()];let o=n.utils.get(r,i);return o?(g.test(o)&&(o=o.replace(g,function(n,e){return s[e]||n})),o):(console.warn(`I18N: Invalide key "${i}".`),l)}}}return function(t){if(!(t.currentLangage in t.messages))throw new Error(`I18N: The current langage "${t.currentLangage}" must be in messages.`);if(!(t.defaultCallbackLangage in t.messages))throw new Error(`I18N: The default callback langage "${t.defaultCallbackLangage}" must be in messages.`);const s=new e(t);return{useI18n:()=>({t:(0,n().helperToHookRegistrer.getHook)(s.messageHandler.bind(s))(),...s.getHook()}),i18nPlugin:n=>{n.helper("i18n",s.getHook.bind(s)),n.helper("t",s.messageHandler.bind(s))}}}}()}}]);