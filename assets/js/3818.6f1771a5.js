(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3818],{3818:function(t){t.exports=function(){"use strict";function t(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").toLowerCase()}function e(t,e){const r={isMatching:!1,params:{}};e=e.replace(/\/+$/,"")||"/";let a=t.replace(/\/+$/,"")||"/";a=a.replace(/:([a-zA-Z0-9_]+)(\(.+?\))?([?*+])?(?:\/|$)/g,(function(t,e,r,a){const o=null!=r?r:"[^/]+";switch(a){case"?":return String.raw`(?:(?<${e}>(${o})))?`;case"*":return String.raw`(?:(?<${e}>(${o}(?:\/${o})*)))?`;case"+":return String.raw`(?<${e}>(${o}(?:\/${o})*))`;default:return String.raw`(?<${e}>${o})`}}));const o=new RegExp(`^${a}$`,"i"),n=e.match(o);return n?(r.isMatching=!0,n.groups&&(r.params=n.groups),r):r}function r(t,e={},r={}){const a=new URLSearchParams(r).toString();return t.replace(/:([a-zA-Z0-9_]+)(\(.+?\))?([?*+])?(?:\/|$)/g,(function(t,r,a,o,n,s){const u=e[r];if(void 0!==u)return u+("/"===s[n+t.length-1]?"/":"");if("?"===o||"*"===o)return"";throw new Error(`(Router) Missing required parameter: ${r}.`)}))+(a?`?${a}`:"")}class a{constructor(e){this.routes=new Map;for(const r of e.routes){const e=t(r.name);this.routes.set(e,r)}this.hashMode=e.hashMode,this.currentRoute=window.DOMY.signal({path:""}).value,this.init()}init(){window.addEventListener("popstate",(()=>this.handleRouteChange())),this.hashMode&&window.addEventListener("hashchange",(()=>this.handleRouteChange())),this.handleRouteChange()}handleRouteChange(){const t=this.getPath(),e=this.getQueryParams(),{matchedRoute:r,params:a}=this.matchRoute(t)||{};this.push(t,r,a,e)}getPath(){return this.hashMode?window.location.hash.replace(/^#/,"").split("?")[0]||"/":window.location.pathname.split("?")[0]||"/"}getQueryParams(){const t=this.hashMode?window.location.hash.split("?")[1]:window.location.search.slice(1);return Object.fromEntries(new URLSearchParams(t))}matchRoute(t){for(const r of this.routes.values()){const a=e(r.route,t);if(a.isMatching)return{matchedRoute:r,params:a.params}}return null}push(t,e,r,a){var o,n;const s=this.currentRoute.route,u={name:null==s?void 0:s.name,route:s,params:this.currentRoute.params,queryParams:this.currentRoute.queryParams},i={name:null==e?void 0:e.name,route:e,params:r,queryParams:a};null===(o=null==e?void 0:e.before)||void 0===o||o.call(e,{from:u,to:i}),this.currentRoute.path=t,this.currentRoute.route=e,this.currentRoute.params=null!=r?r:{},this.currentRoute.queryParams=null!=a?a:{},null===(n=null==s?void 0:s.after)||void 0===n||n.call(s,{from:u,to:i})}replace(e){var a,o,n;const s=e.name?null===(a=this.routes.get(t(e.name)))||void 0===a?void 0:a.route:e.path;if(!s)throw new Error(`(Router) Router not found: ${null!==(o=e.name)&&void 0!==o?o:s}`);const{matchedRoute:u}=null!==(n=this.matchRoute(s))&&void 0!==n?n:{};if(!u)throw new Error(`(Router) Route not found for: "${e.path}".`);const i=r(s,e.params,e.queryParams);this.hashMode?window.location.replace("#"+i):(window.history.replaceState({},"",i),this.push(s,u,e.params,e.queryParams))}navigate(e){var a,o,n;const s=e.name?null===(a=this.routes.get(t(e.name)))||void 0===a?void 0:a.route:e.path;if(!s)throw new Error(`(Router) Router not found: ${null!==(o=e.name)&&void 0!==o?o:s}`);const{matchedRoute:u}=null!==(n=this.matchRoute(s))&&void 0!==n?n:{};if(!u)throw new Error(`(Router) Route not found for: "${e.path}".`);const i=r(s,e.params,e.queryParams);this.hashMode?window.location.hash=i:(window.history.pushState({},"",i),this.push(s,u,e.params,e.queryParams))}goBack(){window.history.back()}goForward(){window.history.forward()}getHelper(){const t=this;return{get path(){return t.currentRoute.path},get fullPath(){return r(t.currentRoute.path,t.currentRoute.params,t.currentRoute.queryParams)},get queryParams(){return t.currentRoute.queryParams},get params(){return t.currentRoute.params},navigate:this.navigate.bind(this),goBack:this.goBack.bind(this),goForward:this.goForward.bind(this)}}createRouterLink(){return window.DOMY.createComponent({props:["!to","activeClass","params","queryParams"],html:'\n          <a :href="getRoute()" @click.prevent="navigate" d-attrs="$attrs" :class="className">\n            <template d-for="children,index of $childrens" d-key="index" d-insert="children"></template>\n          </a>\n        ',app:()=>{const t=window.DOMY.useProps(),e=window.DOMY.computed((()=>{var e;return(t.to.startsWith("/")?t.to===this.currentRoute.path:t.to===(null===(e=this.currentRoute.route)||void 0===e?void 0:e.name))?t.activeClass:""}));return{hashMode:this.hashMode,className:e,navigate:()=>{this.navigate({path:t.to,params:t.params,queryParams:t.queryParams})},getRoute:()=>(this.hashMode?"#":"")+r(t.to,t.params,t.queryParams)}}})}createRouterView(){const t=Array.from(this.routes.entries()).reduce(((t,[e,r])=>({[e]:r.component,...t})),{});return window.DOMY.createComponent({props:["transition"],html:'<template d-transition.dynamic="$props.transition" d-component="componentName"></template>',components:t,app:()=>({componentName:window.DOMY.computed((()=>{var t,e;return null!==(e=null===(t=this.currentRoute.route)||void 0===t?void 0:t.name)&&void 0!==e?e:null}))})})}}return function(t){const e=new a(t);return{RouterView:e.createRouterView(),RouterLink:e.createRouterLink(),useRouter:e.getHelper.bind(e),router(t){t.helper("router",(()=>e.getHelper()))}}}}()}}]);